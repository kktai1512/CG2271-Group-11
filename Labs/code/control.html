<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Car Control</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
        <script type="text/javascript">
            ip = "http://192.168.45.147/";
            function loadIP() {
                ip = "http://" + prompt("Enter your IP address: ", "192.168.45.147") + "/";
            }            
            function control(move) {
                var url = ip + move;
                console.log(url);
                var xmlHttp = new XMLHttpRequest();
                xmlHttp.open("GET", url, true); // false for synchronous request
                xmlHttp.send(null);
                document.getElementById("status").innerHTML = move;
                return xmlHttp.responseText;                
            }
            function press(move) {
                var button = document.getElementById(move);
                if (button.classList.contains("btn-light")) {
                    button.classList.remove("btn-light");
                    button.classList.add("btn-danger");
                }
                else {
                    button.classList.remove("btn-danger");
                    button.classList.add("btn-light");
                }
            }
        </script>
        <style type="text/css">
            body {
               background-color: #333;
               align-items: center;
            }
            .container {
               position: absolute;
               top: 50%;
               transform: translateY(-50%);
               max-width: 100% !important;
            }
            table {
                max-width: 400px !important;
                margin: 0 auto;
            }
            .btn-lg {
                font-size: 3.5rem;
            }
            .btn-primary:hover,.btn-primary:focus,.btn-primary:active, 
            .btn-primary:active:focus:not(:disabled):not(.disabled),
            .btn:focus, .btn:active, .btn:hover{
                box-shadow: none!important;
                outline: 0;
            }
        </style>
    </head>
    <body onload="loadIP();">
        <div class="container">
            <table>
                <tr>
                    <th colspan="3"><h1 id="status" class="text-center text-white">stop</h1></th>
                </tr>
                <tr>
                    <td><button id="slide-left" type="button" class="btn btn-light btn-lg" ontouchstart="control('slide-left');press('slide-left')" onmousedown="control('slide-left');press('slide-left')" onmouseup="control('stop');press('slide-left')" ontouchend="control('stop');press('slide-left')"><i class="bi bi-arrow-up-left-square-fill"></i></button></td> <!-- 5-->
                    <td><button id="forward" type="button" class="btn btn-light btn-lg" onmousedown="control('forward');press('forward')" ontouchstart="control('forward');press('forward')" onmouseup="control('stop');press('forward')" ontouchend="control('stop');press('forward')"><i class="bi bi-arrow-up-square-fill"></i></button></td>      <!-- 'forward'-->
                    <td><button id="slide-right" type="button" class="btn btn-light btn-lg" onmousedown="control('slide-right');press('slide-right')" ontouchstart="control('slide-right');press('slide-right')" onmouseup="control('stop');press('slide-right')" ontouchend="control('stop');press('slide-right')"><i class="bi bi-arrow-up-right-square-fill"></i></button></td> <!-- 6-->
                </tr>
                <tr>
                    <td><button id="left" type="button" class="btn btn-light btn-lg" onmousedown="control('left');press('left')" ontouchstart="control('left');press('left')" onmouseup="control('stop');press('left')" ontouchend="control('stop');press('left')"><i class="bi bi-arrow-left-square-fill"></i></button></td> <!-- 'left'-->
                    <td><button id="stop" type="button" class="btn btn-light btn-lg" onmousedown="control('stop');press('stop')" ontouchstart="control('stop');press('stop')" onmouseup="press('stop')" ontouchend="press('stop')"><i class="bi bi-stop-fill"></i></button></td> <!-- 'stop'-->
                    <td><button id="right" type="button" class="btn btn-light btn-lg" onmousedown="control('right');press('right')" ontouchstart="control('right');press('right')" onmouseup="control('stop');press('right')" ontouchend="control('stop');press('right')"><i class="bi bi-arrow-right-square-fill"></i></button></td> <!-- 'right'-->
                </tr>
                <tr>
                    <td><button id="end" type="button" class="btn btn-light btn-lg" onmousedown="control('end');press('end')" ontouchstart="control('end');press('end')" onmouseup="press('end')" ontouchend="press('end')"><i class="bi bi-check-square-fill"></i></button></td>
                    <td><button id="backward" type="button" class="btn btn-light btn-lg" onmousedown="control('backward');press('backward')" ontouchstart="control('backward');press('backward')" onmouseup="control('stop');press('backward')" ontouchend="control('stop');press('backward')"><i class="bi bi-arrow-down-square-fill"></i></button></td> <!-- 2-->
                    <td></td>
                </tr>
            </table>
        </div>
    </body>
</html>